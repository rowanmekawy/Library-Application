{"ast":null,"code":"import BookService from '@/services/BookService';\nexport default {\n  name: 'BookList',\n  data() {\n    return {\n      books: [],\n      headers: [{\n        title: 'title',\n        value: 'title'\n      }, {\n        title: 'Author',\n        value: 'author'\n      }, {\n        title: 'Genre',\n        value: 'genre'\n      }, {\n        title: 'ISBN',\n        value: 'isbn'\n      }, {\n        title: 'Actions',\n        value: 'actions',\n        sortable: false\n      }],\n      createDialog: false,\n      editDialog: false,\n      newBook: {\n        title: '',\n        author: '',\n        genre: '',\n        isbn: ''\n      },\n      editedBook: {\n        _id: '',\n        title: '',\n        author: '',\n        genre: '',\n        isbn: ''\n      }\n    };\n  },\n  created() {\n    this.fetchBooks();\n  },\n  methods: {\n    fetchBooks() {\n      BookService.getAllBooks().then(response => {\n        this.books = response.data;\n      }).catch(error => {\n        console.error('There was an error fetching the books:', error);\n      });\n    },\n    addNewBook() {\n      BookService.createBook(this.newBook).then(() => {\n        this.fetchBooks();\n        this.createDialog = false;\n        this.newBook = {\n          title: '',\n          author: '',\n          genre: '',\n          isbn: ''\n        };\n      }).catch(error => {\n        console.error('There was an error adding the book:', error);\n      });\n    },\n    openEditDialog(book) {\n      this.editedBook = {\n        ...book\n      };\n      this.editDialog = true;\n    },\n    editBook() {\n      // Navigate to the EditBook component or open a dialog for editing the book\n    },\n    deleteBook(bookId) {\n      // Show a confirmation dialog before deleting the book\n      if (confirm('Are you sure you want to delete this book?')) {\n        BookService.deleteBook(bookId).then(() => {\n          this.fetchBooks(); // Refresh the list after deletion\n        }).catch(error => {\n          console.error('There was an error deleting the book:', error);\n        });\n      }\n    }\n  }\n};","map":{"version":3,"names":["BookService","name","data","books","headers","title","value","sortable","createDialog","editDialog","newBook","author","genre","isbn","editedBook","_id","created","fetchBooks","methods","getAllBooks","then","response","catch","error","console","addNewBook","createBook","openEditDialog","book","editBook","deleteBook","bookId","confirm"],"sources":["/home/disco/book_store/frontend/src/components/BookList.vue"],"sourcesContent":["<template>\n  <v-container>\n    <v-row>\n      <v-col cols=\"12\">\n        <v-card>\n          <v-card-title class=\"headline\">Book List</v-card-title>\n          <v-card-text>\n            <v-data-table\n              :headers=\"headers\"\n              :items=\"books\"\n              item-key=\"id\"\n              class=\"elevation-1\"\n            >\n              <template v-slot:[`item.actions`]=\"{ item }\">\n                <v-icon small class=\"mr-2\" @click=\"editBook(item)\">\n                  mdi-pencil\n                </v-icon>\n                <v-icon small @click=\"deleteBook(item._id)\">\n                  mdi-delete\n                </v-icon>\n              </template>\n            </v-data-table>\n          </v-card-text>\n          <v-card-actions>\n            <v-btn color=\"primary\" @click=\"createDialog = true\">Add New Book</v-btn>\n\n          </v-card-actions>\n        </v-card>\n      </v-col>\n    </v-row>\n    <v-dialog v-model=\"createDialog\" max-width=\"500px\">\n      <v-card>\n        <v-card-title>Add New Book</v-card-title>\n        <v-card-text>\n          <v-form @submit.prevent=\"addNewBook\">\n            <v-text-field v-model=\"newBook.title\" label=\"Title\"></v-text-field>\n            <v-text-field v-model=\"newBook.author\" label=\"Author\"></v-text-field>\n            <v-text-field v-model=\"newBook.genre\" label=\"Genre\"></v-text-field>\n            <v-text-field v-model=\"newBook.isbn\" label=\"ISBN\"></v-text-field>\n          </v-form>\n        </v-card-text>\n        <v-card-actions>\n          <v-spacer></v-spacer>\n          <v-btn color=\"blue darken-1\" text @click=\"createDialog = false\">Cancel</v-btn>\n          <v-btn color=\"blue darken-1\" text @click=\"addNewBook\">Create</v-btn>\n        </v-card-actions>\n      </v-card>\n    </v-dialog>\n  </v-container>\n</template>\n\n<script>\nimport BookService from '@/services/BookService';\n\nexport default {\n  name: 'BookList',\n  data() {\n    return {\n      books: [],\n      headers: [\n        { title: 'title', value: 'title' },\n        { title: 'Author', value: 'author' },\n        { title: 'Genre', value: 'genre' },\n        { title: 'ISBN', value: 'isbn' },\n        { title: 'Actions', value: 'actions', sortable: false },\n      ],\n      createDialog: false,\n      editDialog: false,\n      newBook: {\n        title: '',\n        author: '',\n        genre: '',\n        isbn: '',\n      },\n      editedBook: {\n        _id: '',\n        title: '',\n        author: '',\n        genre: '',\n        isbn: '',\n      },\n    };\n  },\n  created() {\n    this.fetchBooks();\n  },\n  methods: {\n    fetchBooks() {\n      BookService.getAllBooks()\n        .then(response => {\n          this.books = response.data;\n        })\n        .catch(error => {\n          console.error('There was an error fetching the books:', error);\n        });\n    },\n    addNewBook() {\n      BookService.createBook(this.newBook)\n        .then(() => {\n          this.fetchBooks();\n          this.createDialog = false;\n          this.newBook = { title: '', author: '', genre: '', isbn: '' };\n        })\n        .catch(error => {\n          console.error('There was an error adding the book:', error);\n        });\n    },\n    openEditDialog(book) {\n      this.editedBook = { ...book };\n      this.editDialog = true;\n    },\n    \n    editBook() {\n      // Navigate to the EditBook component or open a dialog for editing the book\n    },\n    deleteBook(bookId) {\n      // Show a confirmation dialog before deleting the book\n      if (confirm('Are you sure you want to delete this book?')) {\n        BookService.deleteBook(bookId)\n          .then(() => {\n            this.fetchBooks(); // Refresh the list after deletion\n          })\n          .catch(error => {\n            console.error('There was an error deleting the book:', error);\n          });\n      }\n    },\n  },\n};\n</script>\n\n<style scoped>\n</style>\n"],"mappings":"AAoDA,OAAOA,WAAU,MAAO,wBAAwB;AAEhD,eAAe;EACbC,IAAI,EAAE,UAAU;EAChBC,IAAIA,CAAA,EAAG;IACL,OAAO;MACLC,KAAK,EAAE,EAAE;MACTC,OAAO,EAAE,CACP;QAAEC,KAAK,EAAE,OAAO;QAAEC,KAAK,EAAE;MAAQ,CAAC,EAClC;QAAED,KAAK,EAAE,QAAQ;QAAEC,KAAK,EAAE;MAAS,CAAC,EACpC;QAAED,KAAK,EAAE,OAAO;QAAEC,KAAK,EAAE;MAAQ,CAAC,EAClC;QAAED,KAAK,EAAE,MAAM;QAAEC,KAAK,EAAE;MAAO,CAAC,EAChC;QAAED,KAAK,EAAE,SAAS;QAAEC,KAAK,EAAE,SAAS;QAAEC,QAAQ,EAAE;MAAM,CAAC,CACxD;MACDC,YAAY,EAAE,KAAK;MACnBC,UAAU,EAAE,KAAK;MACjBC,OAAO,EAAE;QACPL,KAAK,EAAE,EAAE;QACTM,MAAM,EAAE,EAAE;QACVC,KAAK,EAAE,EAAE;QACTC,IAAI,EAAE;MACR,CAAC;MACDC,UAAU,EAAE;QACVC,GAAG,EAAE,EAAE;QACPV,KAAK,EAAE,EAAE;QACTM,MAAM,EAAE,EAAE;QACVC,KAAK,EAAE,EAAE;QACTC,IAAI,EAAE;MACR;IACF,CAAC;EACH,CAAC;EACDG,OAAOA,CAAA,EAAG;IACR,IAAI,CAACC,UAAU,CAAC,CAAC;EACnB,CAAC;EACDC,OAAO,EAAE;IACPD,UAAUA,CAAA,EAAG;MACXjB,WAAW,CAACmB,WAAW,CAAC,EACrBC,IAAI,CAACC,QAAO,IAAK;QAChB,IAAI,CAAClB,KAAI,GAAIkB,QAAQ,CAACnB,IAAI;MAC5B,CAAC,EACAoB,KAAK,CAACC,KAAI,IAAK;QACdC,OAAO,CAACD,KAAK,CAAC,wCAAwC,EAAEA,KAAK,CAAC;MAChE,CAAC,CAAC;IACN,CAAC;IACDE,UAAUA,CAAA,EAAG;MACXzB,WAAW,CAAC0B,UAAU,CAAC,IAAI,CAAChB,OAAO,EAChCU,IAAI,CAAC,MAAM;QACV,IAAI,CAACH,UAAU,CAAC,CAAC;QACjB,IAAI,CAACT,YAAW,GAAI,KAAK;QACzB,IAAI,CAACE,OAAM,GAAI;UAAEL,KAAK,EAAE,EAAE;UAAEM,MAAM,EAAE,EAAE;UAAEC,KAAK,EAAE,EAAE;UAAEC,IAAI,EAAE;QAAG,CAAC;MAC/D,CAAC,EACAS,KAAK,CAACC,KAAI,IAAK;QACdC,OAAO,CAACD,KAAK,CAAC,qCAAqC,EAAEA,KAAK,CAAC;MAC7D,CAAC,CAAC;IACN,CAAC;IACDI,cAAcA,CAACC,IAAI,EAAE;MACnB,IAAI,CAACd,UAAS,GAAI;QAAE,GAAGc;MAAK,CAAC;MAC7B,IAAI,CAACnB,UAAS,GAAI,IAAI;IACxB,CAAC;IAEDoB,QAAQA,CAAA,EAAG;MACT;IAAA,CACD;IACDC,UAAUA,CAACC,MAAM,EAAE;MACjB;MACA,IAAIC,OAAO,CAAC,4CAA4C,CAAC,EAAE;QACzDhC,WAAW,CAAC8B,UAAU,CAACC,MAAM,EAC1BX,IAAI,CAAC,MAAM;UACV,IAAI,CAACH,UAAU,CAAC,CAAC,EAAE;QACrB,CAAC,EACAK,KAAK,CAACC,KAAI,IAAK;UACdC,OAAO,CAACD,KAAK,CAAC,uCAAuC,EAAEA,KAAK,CAAC;QAC/D,CAAC,CAAC;MACN;IACF;EACF;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}